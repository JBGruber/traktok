<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get video metadata and video files from URLs — tt_videos_hidden • traktok</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get video metadata and video files from URLs — tt_videos_hidden"><meta name="description" content=""><meta property="og:description" content=""><meta property="og:image" content="https://jbgruber.github.io/traktok/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">traktok</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/research-api.html">Research API</a></li>
    <li><a class="dropdown-item" href="../articles/unofficial-api.html">Unofficial API</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JBGruber/traktok/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get video metadata and video files from URLs</h1>
      <small class="dont-index">Source: <a href="https://github.com/JBGruber/traktok/blob/main/R/api_hidden.r" class="external-link"><code>R/api_hidden.r</code></a>, <a href="https://github.com/JBGruber/traktok/blob/main/R/shorthands.r" class="external-link"><code>R/shorthands.r</code></a></small>
      <div class="d-none name"><code>tt_videos_hidden.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><img src="figures/api-unofficial" alt="[Works on: Unofficial API]"></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tt_videos_hidden</span><span class="op">(</span></span>
<span>  <span class="va">video_urls</span>,</span>
<span>  save_video <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  cache_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sleep_pool <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  max_tries <span class="op">=</span> <span class="fl">5L</span>,</span>
<span>  cookiefile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tt_videos</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-video-urls">video_urls<a class="anchor" aria-label="anchor" href="#arg-video-urls"></a></dt>
<dd><p>vector of URLs or IDs to TikTok videos.</p></dd>


<dt id="arg-save-video">save_video<a class="anchor" aria-label="anchor" href="#arg-save-video"></a></dt>
<dd><p>logical. Should the videos be downloaded.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>logical. If save_video=TRUE and the file already exists,
should it be overwritten?</p></dd>


<dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>directory to save videos files to.</p></dd>


<dt id="arg-cache-dir">cache_dir<a class="anchor" aria-label="anchor" href="#arg-cache-dir"></a></dt>
<dd><p>if set to a path, one RDS file with metadata will be written
to disk for each video. This is useful if you have many videos and want to
pick up where you left if something goes wrong.</p></dd>


<dt id="arg-sleep-pool">sleep_pool<a class="anchor" aria-label="anchor" href="#arg-sleep-pool"></a></dt>
<dd><p>a vector of numbers from which a waiting period is randomly
drawn.</p></dd>


<dt id="arg-max-tries">max_tries<a class="anchor" aria-label="anchor" href="#arg-max-tries"></a></dt>
<dd><p>how often to retry if a request fails.</p></dd>


<dt id="arg-cookiefile">cookiefile<a class="anchor" aria-label="anchor" href="#arg-cookiefile"></a></dt>
<dd><p>path to your cookiefile. Usually not needed after running
<a href="auth_hidden.html">auth_hidden</a> once. See <code><a href="../articles/unofficial-api.html">vignette("unofficial-api", package =
"traktok")</a></code> for more information on authentication.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>should the function print status updates to the screen?</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>handed to <code>tt_videos_hidden</code> (for tt_videos) and (further) to
<a href="tt_request_hidden.html">tt_request_hidden</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a data.frame</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function will wait between scraping two videos to make it less
  obvious that a scraper is accessing the site. The period is drawn randomly
  from the `sleep_pool` and multiplied by a random fraction.</p>
<p>Note that the video file has to be requested in the same session as
  the metadata. So while the URL to the video file is included in the
  metadata, this link will not work in most cases.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">tt_videos</span><span class="op">(</span><span class="st">"https://www.tiktok.com/@tiktok/video/7106594312292453675"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes B. Gruber.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

